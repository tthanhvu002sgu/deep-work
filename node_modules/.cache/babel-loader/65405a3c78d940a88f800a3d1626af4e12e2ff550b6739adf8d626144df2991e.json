{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Vu\\\\Documents\\\\vscode\\\\deepwork\\\\deepwork\\\\src\\\\components\\\\HistoryView.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useMemo } from 'react';\nimport { Bar } from 'react-chartjs-2';\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend } from 'chart.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend);\n\n// Heatmap Component\nconst FocusHeatmap = ({\n  sessions,\n  tasks,\n  filter,\n  dailyTargets = {}\n}) => {\n  _s();\n  const [hoveredDate, setHoveredDate] = useState(null);\n  const [tooltipPosition, setTooltipPosition] = useState({\n    x: 0,\n    y: 0\n  });\n\n  // Calculate data for heatmap\n  const heatmapData = useMemo(() => {\n    const now = new Date();\n    const dates = [];\n\n    // Generate date range based on filter\n    if (filter === 'week') {\n      // Get last 7 days\n      for (let i = 6; i >= 0; i--) {\n        const date = new Date(now);\n        date.setDate(now.getDate() - i);\n        dates.push(new Date(date));\n      }\n    } else if (filter === 'month') {\n      // Get all days in current month\n      const year = now.getFullYear();\n      const month = now.getMonth();\n      const daysInMonth = new Date(year, month + 1, 0).getDate();\n      for (let day = 1; day <= daysInMonth; day++) {\n        dates.push(new Date(year, month, day));\n      }\n    }\n\n    // Calculate focus time for each date\n    return dates.map(date => {\n      const dateKey = date.toISOString().split('T')[0];\n      const dayStart = new Date(date);\n      dayStart.setHours(0, 0, 0, 0);\n      const dayEnd = new Date(date);\n      dayEnd.setHours(23, 59, 59, 999);\n\n      // Get sessions for this date\n      const daySessions = sessions.filter(session => {\n        const sessionDate = new Date(session.completedAt);\n        return sessionDate >= dayStart && sessionDate <= dayEnd;\n      });\n      const totalMinutes = daySessions.reduce((acc, session) => acc + session.duration, 0) / 60;\n      const totalHours = totalMinutes / 60;\n      const target = dailyTargets[dateKey];\n      const targetMinutes = (target === null || target === void 0 ? void 0 : target.targetMinutes) || 0;\n      const targetHours = targetMinutes / 60;\n\n      // Determine color based on conditions\n      let color = 'bg-gray-100'; // Default: no activity\n      let intensity = 0;\n      if (target && targetMinutes > 0) {\n        // Has target set\n        if (totalMinutes >= targetMinutes) {\n          // Target completed - green\n          color = 'bg-green-500';\n          intensity = Math.min(totalHours / targetHours, 2); // Max intensity at 2x target\n        } else {\n          // Target not completed - red\n          color = 'bg-red-500';\n          intensity = Math.max(0.3, totalMinutes / targetMinutes); // Min 30% intensity\n        }\n      } else {\n        // No target set\n        if (totalHours >= 1) {\n          // >= 1h without target - blue\n          color = 'bg-blue-500';\n          intensity = Math.min(totalHours / 3, 1); // Max intensity at 3h\n        } else if (totalMinutes > 0) {\n          // < 1h without target - orange-red\n          color = 'bg-orange-600';\n          intensity = Math.max(0.2, totalMinutes / 60); // Min 20% intensity\n        }\n      }\n      return {\n        date,\n        dateKey,\n        totalMinutes: Math.round(totalMinutes),\n        totalHours: Math.round(totalHours * 10) / 10,\n        sessionCount: daySessions.length,\n        target: targetMinutes,\n        targetAchieved: targetMinutes > 0 && totalMinutes >= targetMinutes,\n        color,\n        intensity: Math.max(0.2, Math.min(intensity, 1)),\n        tasks: [...new Set(daySessions.map(s => s.taskId))].map(taskId => {\n          var _tasks$find;\n          return ((_tasks$find = tasks.find(t => t.id === taskId)) === null || _tasks$find === void 0 ? void 0 : _tasks$find.name) || 'Task ƒë√£ x√≥a';\n        })\n      };\n    });\n  }, [sessions, tasks, filter, dailyTargets]);\n  const handleMouseEnter = (dayData, event) => {\n    setHoveredDate(dayData);\n    setTooltipPosition({\n      x: event.clientX,\n      y: event.clientY\n    });\n  };\n  const handleMouseMove = event => {\n    if (hoveredDate) {\n      setTooltipPosition({\n        x: event.clientX,\n        y: event.clientY\n      });\n    }\n  };\n  const handleMouseLeave = () => {\n    setHoveredDate(null);\n  };\n  const formatDate = date => {\n    return date.toLocaleDateString('vi-VN', {\n      day: '2-digit',\n      month: '2-digit'\n    });\n  };\n  const formatTime = minutes => {\n    if (minutes >= 60) {\n      const hours = Math.floor(minutes / 60);\n      const mins = minutes % 60;\n      return mins > 0 ? `${hours}h ${mins}p` : `${hours}h`;\n    }\n    return `${minutes}p`;\n  };\n  if (filter === 'day') {\n    return null; // Don't show heatmap for day filter\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-6 p-4 bg-gray-50 rounded-lg\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-md font-semibold text-gray-800 mb-3\",\n      children: [\"\\uD83D\\uDD25 Heatmap t\\u1EADp trung \", filter === 'week' ? 'tu·∫ßn n√†y' : 'th√°ng n√†y']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center space-x-4 mb-4 text-xs\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-gray-600\",\n        children: \"\\xCDt\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-3 h-3 bg-gray-100 rounded border\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-3 h-3 bg-orange-600 opacity-30 rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-3 h-3 bg-blue-500 opacity-50 rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-3 h-3 bg-green-500 opacity-70 rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-3 h-3 bg-green-500 rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-3 h-3 bg-red-500 rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-gray-600\",\n        children: \"Nhi\\u1EC1u\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2 ml-4 text-xs\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-2 h-2 bg-green-500 rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u0110\\u1EA1t m\\u1EE5c ti\\xEAu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-2 h-2 bg-red-500 rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Ch\\u01B0a \\u0111\\u1EA1t m\\u1EE5c ti\\xEAu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-2 h-2 bg-blue-500 rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Kh\\xF4ng m\\u1EE5c ti\\xEAu \\u22651h\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-2 h-2 bg-orange-600 rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Kh\\xF4ng m\\u1EE5c ti\\xEAu \", '<', \" 1h\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `grid gap-1 ${filter === 'week' ? 'grid-cols-7' : 'grid-cols-7 lg:grid-cols-10 xl:grid-cols-15'}`,\n      children: [filter === 'week' &&\n      // Week day headers\n      ['CN', 'T2', 'T3', 'T4', 'T5', 'T6', 'T7'].map(day => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs font-medium text-gray-500 text-center py-1\",\n        children: day\n      }, day, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 13\n      }, this)), heatmapData.map((dayData, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `\n              w-6 h-6 rounded cursor-pointer border border-gray-200\n              ${dayData.color} hover:ring-2 hover:ring-gray-400 transition-all\n              flex items-center justify-center text-xs font-medium\n            `,\n        style: {\n          opacity: dayData.totalMinutes > 0 ? dayData.intensity : 0.1,\n          color: dayData.totalMinutes > 0 ? 'white' : '#6b7280'\n        },\n        onMouseEnter: e => handleMouseEnter(dayData, e),\n        onMouseMove: handleMouseMove,\n        onMouseLeave: handleMouseLeave,\n        title: `${formatDate(dayData.date)}: ${formatTime(dayData.totalMinutes)}`,\n        children: dayData.date.getDate()\n      }, dayData.dateKey, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this), hoveredDate && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed z-50 bg-gray-900 text-white text-xs rounded-lg p-3 shadow-lg pointer-events-none max-w-xs\",\n      style: {\n        left: tooltipPosition.x + 10,\n        top: tooltipPosition.y - 10,\n        transform: 'translateY(-100%)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"font-semibold mb-1\",\n        children: hoveredDate.date.toLocaleDateString('vi-VN', {\n          weekday: 'long',\n          day: 'numeric',\n          month: 'long'\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"\\u23F1\\uFE0F Th\\u1EDDi gian t\\u1EADp trung: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold text-blue-300\",\n            children: formatTime(hoveredDate.totalMinutes)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 39\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"\\uD83D\\uDCCA S\\u1ED1 phi\\xEAn: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold\",\n            children: hoveredDate.sessionCount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 28\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 13\n        }, this), hoveredDate.target > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"\\uD83C\\uDFAF M\\u1EE5c ti\\xEAu: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold\",\n            children: formatTime(hoveredDate.target)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `ml-1 ${hoveredDate.targetAchieved ? 'text-green-400' : 'text-red-400'}`,\n            children: hoveredDate.targetAchieved ? '‚úÖ ƒê·∫°t' : '‚ùå Ch∆∞a ƒë·∫°t'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-gray-400\",\n          children: \"\\uD83C\\uDFAF Kh\\xF4ng \\u0111\\u1EB7t m\\u1EE5c ti\\xEAu\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 15\n        }, this), hoveredDate.tasks.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"\\uD83D\\uDCDD Tasks: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-green-300\",\n            children: [hoveredDate.tasks.slice(0, 2).join(', '), hoveredDate.tasks.length > 2 && ` +${hoveredDate.tasks.length - 2} kh√°c`]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 5\n  }, this);\n};\n_s(FocusHeatmap, \"tN/UdLxaouwP8ZOCCrR26Wuirx8=\");\n_c = FocusHeatmap;\nconst HistoryView = ({\n  sessions,\n  tasks,\n  filter,\n  setFilter,\n  dailyTargets = {}\n}) => {\n  _s2();\n  // Existing chart data logic\n  const chartData = React.useMemo(() => {\n    const dataByTask = sessions.reduce((acc, session) => {\n      const taskId = session.taskId;\n      acc[taskId] = (acc[taskId] || 0) + session.duration;\n      return acc;\n    }, {});\n    const taskMap = tasks.reduce((map, task) => {\n      map[task.id] = task.name;\n      return map;\n    }, {});\n    const labels = Object.keys(dataByTask).map(taskId => taskMap[taskId] || 'Task ƒë√£ x√≥a');\n    const data = Object.values(dataByTask).map(totalSeconds => Math.round(totalSeconds / 60));\n    return {\n      labels,\n      datasets: [{\n        label: 'Th·ªùi gian t·∫≠p trung (ph√∫t)',\n        data,\n        backgroundColor: 'rgba(59, 130, 246, 0.8)',\n        borderColor: 'rgba(59, 130, 246, 1)',\n        borderWidth: 1,\n        borderRadius: 4,\n        borderSkipped: false\n      }]\n    };\n  }, [sessions, tasks]);\n  const chartOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    indexAxis: 'y',\n    plugins: {\n      legend: {\n        display: false\n      },\n      title: {\n        display: false\n      },\n      tooltip: {\n        callbacks: {\n          label: function (context) {\n            return `${context.parsed.x} ph√∫t`;\n          }\n        }\n      }\n    },\n    scales: {\n      x: {\n        beginAtZero: true,\n        ticks: {\n          callback: function (value) {\n            return value + 'p';\n          }\n        },\n        grid: {\n          color: 'rgba(0, 0, 0, 0.1)'\n        }\n      },\n      y: {\n        ticks: {\n          maxRotation: 0,\n          minRotation: 0,\n          font: {\n            size: 12\n          }\n        },\n        grid: {\n          display: false\n        }\n      }\n    },\n    elements: {\n      bar: {\n        borderWidth: 1\n      }\n    }\n  };\n  const getFilterText = filter => {\n    if (filter === 'day') return 'h√¥m nay';\n    if (filter === 'week') return 'tu·∫ßn n√†y';\n    if (filter === 'month') return 'th√°ng n√†y';\n    return '';\n  };\n\n  // Calculate total focus time for current filter\n  const totalMinutes = sessions.reduce((acc, session) => acc + session.duration, 0) / 60;\n  const totalHours = Math.floor(totalMinutes / 60);\n  const remainingMinutes = Math.round(totalMinutes % 60);\n  const formatTotalTime = () => {\n    if (totalHours > 0) {\n      return `${totalHours} gi·ªù ${remainingMinutes} ph√∫t`;\n    }\n    return `${Math.round(totalMinutes)} ph√∫t`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-lg p-4 mb-4 shadow-sm border border-gray-200\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-gray-900\",\n          children: [\"\\uD83D\\uDCCA Th\\u1ED1ng k\\xEA \", getFilterText(filter)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 11\n        }, this), sessions.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600 mt-1\",\n          children: [\"T\\u1ED5ng c\\u1ED9ng: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold text-blue-600\",\n            children: formatTotalTime()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 26\n          }, this), ' ', \"(\", sessions.length, \" phi\\xEAn)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-1 bg-gray-100 rounded-lg p-1\",\n        children: ['day', 'week', 'month'].map(f => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setFilter(f),\n          className: `px-3 py-1 text-sm font-medium rounded-md transition-colors ${filter === f ? 'bg-white text-blue-600 shadow-sm' : 'text-gray-600 hover:text-gray-900'}`,\n          children: f === 'day' ? 'Ng√†y' : f === 'week' ? 'Tu·∫ßn' : 'Th√°ng'\n        }, f, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 7\n    }, this), sessions.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: '250px'\n      },\n      children: /*#__PURE__*/_jsxDEV(Bar, {\n        data: chartData,\n        options: chartOptions\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-12 text-gray-500\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-5xl mb-3\",\n        children: \"\\uD83D\\uDCC8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-medium text-gray-700 mb-2\",\n        children: [\"Ch\\u01B0a c\\xF3 d\\u1EEF li\\u1EC7u \", getFilterText(filter)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm\",\n        children: \"B\\u1EAFt \\u0111\\u1EA7u m\\u1ED9t phi\\xEAn l\\xE0m vi\\u1EC7c \\u0111\\u1EC3 xem th\\u1ED1ng k\\xEA t\\u1EA1i \\u0111\\xE2y\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 9\n    }, this), sessions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 grid grid-cols-3 gap-4 pt-4 border-t border-gray-100\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500 uppercase tracking-wide\",\n          children: \"Phi\\xEAn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg font-bold text-gray-900\",\n          children: sessions.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500 uppercase tracking-wide\",\n          children: \"Trung b\\xECnh\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg font-bold text-gray-900\",\n          children: [Math.round(totalMinutes / sessions.length), \"p\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500 uppercase tracking-wide\",\n          children: \"Tasks\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg font-bold text-gray-900\",\n          children: new Set(sessions.map(s => s.taskId)).size\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(FocusHeatmap, {\n      sessions: sessions,\n      tasks: tasks,\n      filter: filter,\n      dailyTargets: dailyTargets\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 372,\n    columnNumber: 5\n  }, this);\n};\n_s2(HistoryView, \"i4eYYg6GOj65klTCDK4mhi4wfgw=\");\n_c2 = HistoryView;\nexport default HistoryView;\nvar _c, _c2;\n$RefreshReg$(_c, \"FocusHeatmap\");\n$RefreshReg$(_c2, \"HistoryView\");","map":{"version":3,"names":["React","useState","useMemo","Bar","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","jsxDEV","_jsxDEV","register","FocusHeatmap","sessions","tasks","filter","dailyTargets","_s","hoveredDate","setHoveredDate","tooltipPosition","setTooltipPosition","x","y","heatmapData","now","Date","dates","i","date","setDate","getDate","push","year","getFullYear","month","getMonth","daysInMonth","day","map","dateKey","toISOString","split","dayStart","setHours","dayEnd","daySessions","session","sessionDate","completedAt","totalMinutes","reduce","acc","duration","totalHours","target","targetMinutes","targetHours","color","intensity","Math","min","max","round","sessionCount","length","targetAchieved","Set","s","taskId","_tasks$find","find","t","id","name","handleMouseEnter","dayData","event","clientX","clientY","handleMouseMove","handleMouseLeave","formatDate","toLocaleDateString","formatTime","minutes","hours","floor","mins","className","children","fileName","_jsxFileName","lineNumber","columnNumber","index","style","opacity","onMouseEnter","e","onMouseMove","onMouseLeave","title","left","top","transform","weekday","slice","join","_c","HistoryView","setFilter","_s2","chartData","dataByTask","taskMap","task","labels","Object","keys","data","values","totalSeconds","datasets","label","backgroundColor","borderColor","borderWidth","borderRadius","borderSkipped","chartOptions","responsive","maintainAspectRatio","indexAxis","plugins","legend","display","tooltip","callbacks","context","parsed","scales","beginAtZero","ticks","callback","value","grid","maxRotation","minRotation","font","size","elements","bar","getFilterText","remainingMinutes","formatTotalTime","f","onClick","height","options","_c2","$RefreshReg$"],"sources":["C:/Users/Vu/Documents/vscode/deepwork/deepwork/src/components/HistoryView.js"],"sourcesContent":["import React, { useState, useMemo } from 'react';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend } from 'chart.js';\r\n\r\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend);\r\n\r\n// Heatmap Component\r\nconst FocusHeatmap = ({ sessions, tasks, filter, dailyTargets = {} }) => {\r\n  const [hoveredDate, setHoveredDate] = useState(null);\r\n  const [tooltipPosition, setTooltipPosition] = useState({ x: 0, y: 0 });\r\n\r\n  // Calculate data for heatmap\r\n  const heatmapData = useMemo(() => {\r\n    const now = new Date();\r\n    const dates = [];\r\n    \r\n    // Generate date range based on filter\r\n    if (filter === 'week') {\r\n      // Get last 7 days\r\n      for (let i = 6; i >= 0; i--) {\r\n        const date = new Date(now);\r\n        date.setDate(now.getDate() - i);\r\n        dates.push(new Date(date));\r\n      }\r\n    } else if (filter === 'month') {\r\n      // Get all days in current month\r\n      const year = now.getFullYear();\r\n      const month = now.getMonth();\r\n      const daysInMonth = new Date(year, month + 1, 0).getDate();\r\n      \r\n      for (let day = 1; day <= daysInMonth; day++) {\r\n        dates.push(new Date(year, month, day));\r\n      }\r\n    }\r\n\r\n    // Calculate focus time for each date\r\n    return dates.map(date => {\r\n      const dateKey = date.toISOString().split('T')[0];\r\n      const dayStart = new Date(date);\r\n      dayStart.setHours(0, 0, 0, 0);\r\n      const dayEnd = new Date(date);\r\n      dayEnd.setHours(23, 59, 59, 999);\r\n\r\n      // Get sessions for this date\r\n      const daySessions = sessions.filter(session => {\r\n        const sessionDate = new Date(session.completedAt);\r\n        return sessionDate >= dayStart && sessionDate <= dayEnd;\r\n      });\r\n\r\n      const totalMinutes = daySessions.reduce((acc, session) => acc + session.duration, 0) / 60;\r\n      const totalHours = totalMinutes / 60;\r\n      const target = dailyTargets[dateKey];\r\n      const targetMinutes = target?.targetMinutes || 0;\r\n      const targetHours = targetMinutes / 60;\r\n\r\n      // Determine color based on conditions\r\n      let color = 'bg-gray-100'; // Default: no activity\r\n      let intensity = 0;\r\n\r\n      if (target && targetMinutes > 0) {\r\n        // Has target set\r\n        if (totalMinutes >= targetMinutes) {\r\n          // Target completed - green\r\n          color = 'bg-green-500';\r\n          intensity = Math.min(totalHours / targetHours, 2); // Max intensity at 2x target\r\n        } else {\r\n          // Target not completed - red\r\n          color = 'bg-red-500';\r\n          intensity = Math.max(0.3, totalMinutes / targetMinutes); // Min 30% intensity\r\n        }\r\n      } else {\r\n        // No target set\r\n        if (totalHours >= 1) {\r\n          // >= 1h without target - blue\r\n          color = 'bg-blue-500';\r\n          intensity = Math.min(totalHours / 3, 1); // Max intensity at 3h\r\n        } else if (totalMinutes > 0) {\r\n          // < 1h without target - orange-red\r\n          color = 'bg-orange-600';\r\n          intensity = Math.max(0.2, totalMinutes / 60); // Min 20% intensity\r\n        }\r\n      }\r\n\r\n      return {\r\n        date,\r\n        dateKey,\r\n        totalMinutes: Math.round(totalMinutes),\r\n        totalHours: Math.round(totalHours * 10) / 10,\r\n        sessionCount: daySessions.length,\r\n        target: targetMinutes,\r\n        targetAchieved: targetMinutes > 0 && totalMinutes >= targetMinutes,\r\n        color,\r\n        intensity: Math.max(0.2, Math.min(intensity, 1)),\r\n        tasks: [...new Set(daySessions.map(s => s.taskId))].map(taskId => \r\n          tasks.find(t => t.id === taskId)?.name || 'Task ƒë√£ x√≥a'\r\n        )\r\n      };\r\n    });\r\n  }, [sessions, tasks, filter, dailyTargets]);\r\n\r\n  const handleMouseEnter = (dayData, event) => {\r\n    setHoveredDate(dayData);\r\n    setTooltipPosition({ x: event.clientX, y: event.clientY });\r\n  };\r\n\r\n  const handleMouseMove = (event) => {\r\n    if (hoveredDate) {\r\n      setTooltipPosition({ x: event.clientX, y: event.clientY });\r\n    }\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    setHoveredDate(null);\r\n  };\r\n\r\n  const formatDate = (date) => {\r\n    return date.toLocaleDateString('vi-VN', { \r\n      day: '2-digit', \r\n      month: '2-digit' \r\n    });\r\n  };\r\n\r\n  const formatTime = (minutes) => {\r\n    if (minutes >= 60) {\r\n      const hours = Math.floor(minutes / 60);\r\n      const mins = minutes % 60;\r\n      return mins > 0 ? `${hours}h ${mins}p` : `${hours}h`;\r\n    }\r\n    return `${minutes}p`;\r\n  };\r\n\r\n  if (filter === 'day') {\r\n    return null; // Don't show heatmap for day filter\r\n  }\r\n\r\n  return (\r\n    <div className=\"mt-6 p-4 bg-gray-50 rounded-lg\">\r\n      <h3 className=\"text-md font-semibold text-gray-800 mb-3\">\r\n        üî• Heatmap t·∫≠p trung {filter === 'week' ? 'tu·∫ßn n√†y' : 'th√°ng n√†y'}\r\n      </h3>\r\n      \r\n      {/* Legend */}\r\n      <div className=\"flex items-center space-x-4 mb-4 text-xs\">\r\n        <span className=\"text-gray-600\">√çt</span>\r\n        <div className=\"flex space-x-1\">\r\n          <div className=\"w-3 h-3 bg-gray-100 rounded border\"></div>\r\n          <div className=\"w-3 h-3 bg-orange-600 opacity-30 rounded\"></div>\r\n          <div className=\"w-3 h-3 bg-blue-500 opacity-50 rounded\"></div>\r\n          <div className=\"w-3 h-3 bg-green-500 opacity-70 rounded\"></div>\r\n          <div className=\"w-3 h-3 bg-green-500 rounded\"></div>\r\n          <div className=\"w-3 h-3 bg-red-500 rounded\"></div>\r\n        </div>\r\n        <span className=\"text-gray-600\">Nhi·ªÅu</span>\r\n        <div className=\"flex items-center space-x-2 ml-4 text-xs\">\r\n          <div className=\"flex items-center space-x-1\">\r\n            <div className=\"w-2 h-2 bg-green-500 rounded\"></div>\r\n            <span>ƒê·∫°t m·ª•c ti√™u</span>\r\n          </div>\r\n          <div className=\"flex items-center space-x-1\">\r\n            <div className=\"w-2 h-2 bg-red-500 rounded\"></div>\r\n            <span>Ch∆∞a ƒë·∫°t m·ª•c ti√™u</span>\r\n          </div>\r\n          <div className=\"flex items-center space-x-1\">\r\n            <div className=\"w-2 h-2 bg-blue-500 rounded\"></div>\r\n            <span>Kh√¥ng m·ª•c ti√™u ‚â•1h</span>\r\n          </div>\r\n          <div className=\"flex items-center space-x-1\">\r\n            <div className=\"w-2 h-2 bg-orange-600 rounded\"></div>\r\n            <span>Kh√¥ng m·ª•c ti√™u {'<'} 1h</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Heatmap Grid */}\r\n      <div className={`grid gap-1 ${\r\n        filter === 'week' \r\n          ? 'grid-cols-7' \r\n          : 'grid-cols-7 lg:grid-cols-10 xl:grid-cols-15'\r\n      }`}>\r\n        {filter === 'week' && (\r\n          // Week day headers\r\n          ['CN', 'T2', 'T3', 'T4', 'T5', 'T6', 'T7'].map(day => (\r\n            <div key={day} className=\"text-xs font-medium text-gray-500 text-center py-1\">\r\n              {day}\r\n            </div>\r\n          ))\r\n       ) }\r\n        \r\n        {heatmapData.map((dayData, index) => (\r\n          <div\r\n            key={dayData.dateKey}\r\n            className={`\r\n              w-6 h-6 rounded cursor-pointer border border-gray-200\r\n              ${dayData.color} hover:ring-2 hover:ring-gray-400 transition-all\r\n              flex items-center justify-center text-xs font-medium\r\n            `}\r\n            style={{ \r\n              opacity: dayData.totalMinutes > 0 ? dayData.intensity : 0.1,\r\n              color: dayData.totalMinutes > 0 ? 'white' : '#6b7280'\r\n            }}\r\n            onMouseEnter={(e) => handleMouseEnter(dayData, e)}\r\n            onMouseMove={handleMouseMove}\r\n            onMouseLeave={handleMouseLeave}\r\n            title={`${formatDate(dayData.date)}: ${formatTime(dayData.totalMinutes)}`}\r\n          >\r\n            {dayData.date.getDate()}\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Tooltip */}\r\n      {hoveredDate && (\r\n        <div\r\n          className=\"fixed z-50 bg-gray-900 text-white text-xs rounded-lg p-3 shadow-lg pointer-events-none max-w-xs\"\r\n          style={{\r\n            left: tooltipPosition.x + 10,\r\n            top: tooltipPosition.y - 10,\r\n            transform: 'translateY(-100%)'\r\n          }}\r\n        >\r\n          <div className=\"font-semibold mb-1\">\r\n            {hoveredDate.date.toLocaleDateString('vi-VN', { \r\n              weekday: 'long',\r\n              day: 'numeric', \r\n              month: 'long'\r\n            })}\r\n          </div>\r\n          \r\n          <div className=\"space-y-1\">\r\n            <div>\r\n              ‚è±Ô∏è Th·ªùi gian t·∫≠p trung: <span className=\"font-semibold text-blue-300\">\r\n                {formatTime(hoveredDate.totalMinutes)}\r\n              </span>\r\n            </div>\r\n            \r\n            <div>\r\n              üìä S·ªë phi√™n: <span className=\"font-semibold\">{hoveredDate.sessionCount}</span>\r\n            </div>\r\n\r\n            {hoveredDate.target > 0 ? (\r\n              <div>\r\n                üéØ M·ª•c ti√™u: <span className=\"font-semibold\">{formatTime(hoveredDate.target)}</span>\r\n                <span className={`ml-1 ${hoveredDate.targetAchieved ? 'text-green-400' : 'text-red-400'}`}>\r\n                  {hoveredDate.targetAchieved ? '‚úÖ ƒê·∫°t' : '‚ùå Ch∆∞a ƒë·∫°t'}\r\n                </span>\r\n              </div>\r\n            ) : (\r\n              <div className=\"text-gray-400\">\r\n                üéØ Kh√¥ng ƒë·∫∑t m·ª•c ti√™u\r\n              </div>\r\n            )}\r\n\r\n            {hoveredDate.tasks.length > 0 && (\r\n              <div>\r\n                üìù Tasks: <span className=\"text-green-300\">\r\n                  {hoveredDate.tasks.slice(0, 2).join(', ')}\r\n                  {hoveredDate.tasks.length > 2 && ` +${hoveredDate.tasks.length - 2} kh√°c`}\r\n                </span>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst HistoryView = ({ sessions, tasks, filter, setFilter, dailyTargets = {} }) => {\r\n  // Existing chart data logic\r\n  const chartData = React.useMemo(() => {\r\n    const dataByTask = sessions.reduce((acc, session) => {\r\n      const taskId = session.taskId;\r\n      acc[taskId] = (acc[taskId] || 0) + session.duration;\r\n      return acc;\r\n    }, {});\r\n\r\n    const taskMap = tasks.reduce((map, task) => {\r\n      map[task.id] = task.name;\r\n      return map;\r\n    }, {});\r\n\r\n    const labels = Object.keys(dataByTask).map(taskId => taskMap[taskId] || 'Task ƒë√£ x√≥a');\r\n    const data = Object.values(dataByTask).map(totalSeconds => Math.round(totalSeconds / 60));\r\n\r\n    return {\r\n      labels,\r\n      datasets: [\r\n        {\r\n          label: 'Th·ªùi gian t·∫≠p trung (ph√∫t)',\r\n          data,\r\n          backgroundColor: 'rgba(59, 130, 246, 0.8)',\r\n          borderColor: 'rgba(59, 130, 246, 1)',\r\n          borderWidth: 1,\r\n          borderRadius: 4,\r\n          borderSkipped: false,\r\n        },\r\n      ],\r\n    };\r\n  }, [sessions, tasks]);\r\n\r\n  const chartOptions = {\r\n    responsive: true,\r\n    maintainAspectRatio: false,\r\n    indexAxis: 'y',\r\n    plugins: {\r\n      legend: {\r\n        display: false,\r\n      },\r\n      title: {\r\n        display: false,\r\n      },\r\n      tooltip: {\r\n        callbacks: {\r\n          label: function(context) {\r\n            return `${context.parsed.x} ph√∫t`;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    scales: {\r\n      x: {\r\n        beginAtZero: true,\r\n        ticks: {\r\n          callback: function(value) {\r\n            return value + 'p';\r\n          }\r\n        },\r\n        grid: {\r\n          color: 'rgba(0, 0, 0, 0.1)',\r\n        }\r\n      },\r\n      y: {\r\n        ticks: {\r\n          maxRotation: 0,\r\n          minRotation: 0,\r\n          font: {\r\n            size: 12\r\n          }\r\n        },\r\n        grid: {\r\n          display: false,\r\n        }\r\n      }\r\n    },\r\n    elements: {\r\n      bar: {\r\n        borderWidth: 1,\r\n      }\r\n    }\r\n  };\r\n\r\n  const getFilterText = (filter) => {\r\n    if (filter === 'day') return 'h√¥m nay';\r\n    if (filter === 'week') return 'tu·∫ßn n√†y';\r\n    if (filter === 'month') return 'th√°ng n√†y';\r\n    return '';\r\n  };\r\n\r\n  // Calculate total focus time for current filter\r\n  const totalMinutes = sessions.reduce((acc, session) => acc + session.duration, 0) / 60;\r\n  const totalHours = Math.floor(totalMinutes / 60);\r\n  const remainingMinutes = Math.round(totalMinutes % 60);\r\n\r\n  const formatTotalTime = () => {\r\n    if (totalHours > 0) {\r\n      return `${totalHours} gi·ªù ${remainingMinutes} ph√∫t`;\r\n    }\r\n    return `${Math.round(totalMinutes)} ph√∫t`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg p-4 mb-4 shadow-sm border border-gray-200\">\r\n      {/* Header */}\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <div>\r\n          <h2 className=\"text-lg font-semibold text-gray-900\">\r\n            üìä Th·ªëng k√™ {getFilterText(filter)}\r\n          </h2>\r\n          {sessions.length > 0 && (\r\n            <p className=\"text-sm text-gray-600 mt-1\">\r\n              T·ªïng c·ªông: <span className=\"font-semibold text-blue-600\">{formatTotalTime()}</span> \r\n              {' '}({sessions.length} phi√™n)\r\n            </p>\r\n          )}\r\n        </div>\r\n        \r\n        <div className=\"flex space-x-1 bg-gray-100 rounded-lg p-1\">\r\n          {['day', 'week', 'month'].map(f => (\r\n            <button\r\n              key={f}\r\n              onClick={() => setFilter(f)}\r\n              className={`px-3 py-1 text-sm font-medium rounded-md transition-colors ${\r\n                filter === f\r\n                  ? 'bg-white text-blue-600 shadow-sm'\r\n                  : 'text-gray-600 hover:text-gray-900'\r\n              }`}\r\n            >\r\n              {f === 'day' ? 'Ng√†y' : f === 'week' ? 'Tu·∫ßn' : 'Th√°ng'}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Chart */}\r\n      {sessions.length > 0 ? (\r\n        <div style={{ height: '250px' }}>\r\n          <Bar data={chartData} options={chartOptions} />\r\n        </div>\r\n      ) : (\r\n        <div className=\"text-center py-12 text-gray-500\">\r\n          <div className=\"text-5xl mb-3\">üìà</div>\r\n          <h3 className=\"text-lg font-medium text-gray-700 mb-2\">\r\n            Ch∆∞a c√≥ d·ªØ li·ªáu {getFilterText(filter)}\r\n          </h3>\r\n          <p className=\"text-sm\">\r\n            B·∫Øt ƒë·∫ßu m·ªôt phi√™n l√†m vi·ªác ƒë·ªÉ xem th·ªëng k√™ t·∫°i ƒë√¢y\r\n          </p>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Quick Stats */}\r\n      {sessions.length > 0 && (\r\n        <div className=\"mt-4 grid grid-cols-3 gap-4 pt-4 border-t border-gray-100\">\r\n          <div className=\"text-center\">\r\n            <p className=\"text-xs text-gray-500 uppercase tracking-wide\">Phi√™n</p>\r\n            <p className=\"text-lg font-bold text-gray-900\">{sessions.length}</p>\r\n          </div>\r\n          <div className=\"text-center\">\r\n            <p className=\"text-xs text-gray-500 uppercase tracking-wide\">Trung b√¨nh</p>\r\n            <p className=\"text-lg font-bold text-gray-900\">\r\n              {Math.round(totalMinutes / sessions.length)}p\r\n            </p>\r\n          </div>\r\n          <div className=\"text-center\">\r\n            <p className=\"text-xs text-gray-500 uppercase tracking-wide\">Tasks</p>\r\n            <p className=\"text-lg font-bold text-gray-900\">\r\n              {new Set(sessions.map(s => s.taskId)).size}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Focus Heatmap - only show for week and month filters */}\r\n      <FocusHeatmap \r\n        sessions={sessions} \r\n        tasks={tasks} \r\n        filter={filter} \r\n        dailyTargets={dailyTargets}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HistoryView;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}